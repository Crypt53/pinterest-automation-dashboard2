<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pinterest Automation Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <i class="bi bi-pinterest me-2"></i>
                Pinterest Automation Dashboard
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" href="#"><i class="bi bi-house-door me-1"></i> Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="addContentLink"><i class="bi bi-plus-circle me-1"></i> Add Content</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="bi bi-graph-up me-1"></i> Analytics</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="bi bi-gear me-1"></i> Settings</a>
                    </li>
                </ul>
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/api/logout"><i class="bi bi-box-arrow-right me-1"></i> Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="row">
            <div class="col-md-8">
                <div class="card mb-4">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">
                            Content Queue
                            <i class="bi bi-question-circle help-tooltip" 
                               data-bs-toggle="tooltip" 
                               data-bs-placement="right" 
                               title="This table shows all content items in your queue. Items with 'Pending' status will be processed in the next automation run."></i>
                        </h5>
                        <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#addContentModal">
                            <i class="bi bi-plus-circle me-1"></i> Add New Content
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Status</th>
                                        <th>Theme</th>
                                        <th>AI Tool</th>
                                        <th>Scheduled</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="badge bg-warning">Pending</span></td>
                                        <td>ChatGPT Image Creation Tips</td>
                                        <td>ChatGPT 4.0</td>
                                        <td>Next run</td>
                                        <td>
                                            <button class="btn btn-sm btn-outline-primary"><i class="bi bi-pencil"></i></button>
                                            <button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><span class="badge bg-warning">Pending</span></td>
                                        <td>Claude Research Function</td>
                                        <td>Claude</td>
                                        <td>Next run</td>
                                        <td>
                                            <button class="btn btn-sm btn-outline-primary"><i class="bi bi-pencil"></i></button>
                                            <button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><span class="badge bg-success">Processed</span></td>
                                        <td>Prompt Engineering for Images</td>
                                        <td>ChatGPT 4.0</td>
                                        <td>Apr 17, 2025</td>
                                        <td>
                                            <button class="btn btn-sm btn-outline-primary"><i class="bi bi-eye"></i></button>
                                            <button class="btn btn-sm btn-outline-secondary"><i class="bi bi-arrow-repeat"></i></button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><span class="badge bg-danger">Error</span></td>
                                        <td>Data Analysis with Claude</td>
                                        <td>Claude</td>
                                        <td>Apr 16, 2025</td>
                                        <td>
                                            <button class="btn btn-sm btn-outline-primary"><i class="bi bi-eye"></i></button>
                                            <button class="btn btn-sm btn-outline-warning"><i class="bi bi-arrow-clockwise"></i></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">
                            Automation Status
                            <i class="bi bi-question-circle help-tooltip" 
                               data-bs-toggle="tooltip" 
                               data-bs-placement="right" 
                               title="This panel shows the current status of your automation, including when it last ran and when it will run next."></i>
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between mb-3">
                            <span>Status:</span>
                            <span class="badge bg-success">Active</span>
                        </div>
                        <div class="d-flex justify-content-between mb-3">
                            <span>Last Run:</span>
                            <span>Apr 18, 2025 10:15 AM</span>
                        </div>
                        <div class="d-flex justify-content-between mb-3">
                            <span>Next Run:</span>
                            <span>Apr 18, 2025 10:45 AM</span>
                        </div>
                        <div class="d-flex justify-content-between mb-3">
                            <span>Frequency:</span>
                            <span>Every 30 minutes</span>
                        </div>
                        <div class="d-flex justify-content-between">
                            <span>Total Posts:</span>
                            <span>24</span>
                        </div>
                    </div>
                </div>

                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">
                            Quick Stats
                            <i class="bi bi-question-circle help-tooltip" 
                               data-bs-toggle="tooltip" 
                               data-bs-placement="right" 
                               title="These metrics show the performance of your Pinterest pins, including impressions (views), saves, clicks, and comments."></i>
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row text-center">
                            <div class="col-6 mb-3">
                                <h3 class="text-primary">156</h3>
                                <div class="text-muted">Impressions</div>
                            </div>
                            <div class="col-6 mb-3">
                                <h3 class="text-success">42</h3>
                                <div class="text-muted">Saves</div>
                            </div>
                            <div class="col-6">
                                <h3 class="text-info">18</h3>
                                <div class="text-muted">Clicks</div>
                            </div>
                            <div class="col-6">
                                <h3 class="text-warning">5</h3>
                                <div class="text-muted">Comments</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">
                            Recent Activity
                            <i class="bi bi-question-circle help-tooltip" 
                               data-bs-toggle="tooltip" 
                               data-bs-placement="right" 
                               title="This log shows recent actions and events in your Pinterest automation, including successful posts, errors, and content additions."></i>
                        </h5>
                    </div>
                    <div class="card-body">
                        <ul class="list-group">
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div>
                                    <i class="bi bi-check-circle-fill text-success me-2"></i>
                                    <span>Pin created: "5 Advanced ChatGPT Image Creation Tips"</span>
                                </div>
                                <span class="text-muted">10:15 AM</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div>
                                    <i class="bi bi-x-circle-fill text-danger me-2"></i>
                                    <span>Error: Failed to generate image for "Data Analysis with Claude"</span>
                                </div>
                                <span class="text-muted">Yesterday</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div>
                                    <i class="bi bi-plus-circle-fill text-primary me-2"></i>
                                    <span>New content added: "Prompt Engineering for Images"</span>
                                </div>
                                <span class="text-muted">Yesterday</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div>
                                    <i class="bi bi-check-circle-fill text-success me-2"></i>
                                    <span>Pin created: "How Claude's Research Function Transforms Data Analysis"</span>
                                </div>
                                <span class="text-muted">Apr 16, 2025</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Content Modal -->
    <div class="modal fade" id="addContentModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        Add New Content
                        <i class="bi bi-question-circle help-tooltip" 
                           data-bs-toggle="tooltip" 
                           data-bs-placement="right" 
                           title="Add a new content item to your queue. The system will automatically generate a Pinterest pin based on the theme and AI tool you specify."></i>
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addContentForm">
                        <div class="mb-3">
                            <label for="contentTheme" class="form-label">
                                Theme
                                <i class="bi bi-question-circle help-tooltip" 
                                   data-bs-toggle="tooltip" 
                                   data-bs-placement="right" 
                                   title="The main topic of your pin. Be specific to get better results."></i>
                            </label>
                            <input type="text" class="form-control" id="contentTheme" placeholder="e.g., ChatGPT Image Creation Tips">
                        </div>
                        <div class="mb-3">
                            <label for="aiTool" class="form-label">
                                AI Tool
                                <i class="bi bi-question-circle help-tooltip" 
                                   data-bs-toggle="tooltip" 
                                   data-bs-placement="right" 
                                   title="Select which AI tool this content is about."></i>
                            </label>
                            <select class="form-select" id="aiTool">
                                <option value="ChatGPT 4.0">ChatGPT 4.0</option>
                                <option value="Claude">Claude</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="additionalNotes" class="form-label">
                                Additional Notes (Optional)
                                <i class="bi bi-question-circle help-tooltip" 
                                   data-bs-toggle="tooltip" 
                                   data-bs-placement="right" 
                                   title="Any specific details or focus areas for this content."></i>
                            </label>
                            <textarea class="form-control" id="additionalNotes" rows="3" placeholder="Any specific focus or details for this content"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="addContentBtn">Add to Queue</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Sidebar -->
    <div class="help-sidebar" id="helpSidebar">
        <div class="help-sidebar-header">
            <h4 class="mb-0">Pinterest Automation Help</h4>
            <button class="help-sidebar-close" id="closeHelpSidebar">&times;</button>
        </div>
        <div class="help-sidebar-content">
            <div class="help-sidebar-section" id="dashboardHelp">
                <h4>Dashboard Overview</h4>
                <p>The dashboard provides a complete view of your Pinterest automation. Monitor your content queue, automation status, performance metrics, and recent activity all in one place.</p>
                <p>Key components:</p>
                <ul>
                    <li><strong>Content Queue</strong> - Shows all pending and processed content</li>
                    <li><strong>Automation Status</strong> - Displays when the system last ran and will run next</li>
                    <li><strong>Quick Stats</strong> - Shows performance metrics at a glance</li>
                    <li><strong>Recent Activity</strong> - Lists recent actions and events</li>
                </ul>
            </div>
            
            <div class="help-sidebar-section" id="contentHelp">
                <h4>Content Management</h4>
                <p>Add new content ideas to your queue by clicking 'Add New Content'. Each entry requires a Theme (what the pin is about) and AI Tool (ChatGPT or Claude).</p>
                <p>The system will automatically:</p>
                <ul>
                    <li>Generate engaging pin titles based on your theme</li>
                    <li>Create compelling descriptions with relevant hashtags</li>
                    <li>Design custom images using AI image generation</li>
                    <li>Post to your Pinterest account</li>
                </ul>
                <p>Content statuses:</p>
                <ul>
                    <li><span class="badge bg-warning">Pending</span> - Waiting to be processed</li>
                    <li><span class="badge bg-success">Processed</span> - Successfully posted to Pinterest</li>
                    <li><span class="badge bg-danger">Error</span> - Failed to process (hover for details)</li>
                </ul>
            </div>
            
            <div class="help-sidebar-section" id="analyticsHelp">
                <h4>Analytics & Performance</h4>
                <p>Track your Pinterest performance with key metrics:</p>
                <ul>
                    <li><strong>Impressions</strong> - How many times your pins were seen</li>
                    <li><strong>Saves</strong> - How many users saved your pins to their boards</li>
                    <li><strong>Clicks</strong> - How many users clicked through to your content</li>
                    <li><strong>Comments</strong> - How many users commented on your pins</li>
                </ul>
                <p>Use these metrics to refine your content strategy and focus on what works best.</p>
            </div>
            
            <div class="help-sidebar-section" id="automationHelp">
                <h4>Automation Settings</h4>
                <p>The Automation Status panel shows:</p>
                <ul>
                    <li>Current status (Active/Paused)</li>
                    <li>Last run time and date</li>
                    <li>Next scheduled run</li>
                    <li>Posting frequency</li>
                    <li>Total posts created</li>
                </ul>
                <p>The system automatically checks for new content to post based on your configured frequency.</p>
            </div>
            
            <div class="help-sidebar-section" id="settingsHelp">
                <h4>Account Settings</h4>
                <p>Manage your account settings, update your password, and configure integration with Make.com and Pinterest from the Settings page.</p>
                <p>Important settings include:</p>
                <ul>
                    <li>Pinterest account connection</li>
                    <li>Make.com webhook configuration</li>
                    <li>Password management</li>
                    <li>Notification preferences</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Help Toggle Button -->
    <button class="help-toggle-btn" id="helpToggleBtn">
        <i class="bi bi-question-lg"></i>
    </button>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
